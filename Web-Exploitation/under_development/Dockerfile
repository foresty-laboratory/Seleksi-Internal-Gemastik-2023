FROM python:3.9-alpine

RUN pip install flask --no-cache-dir
RUN addgroup -S app
RUN adduser \
    --disabled-password \
    --gecos "" \
    --home "/app" \
    --ingroup "app" \
    --uid "1337" app

COPY src/ /app

WORKDIR /app

USER app

CMD ["flask", "run", "-h", "0.0.0.0", "-p", "10042"]